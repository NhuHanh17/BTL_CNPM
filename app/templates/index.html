{% extends 'layout/base.html'%}
{% block title %}
    <title>Trang ch·ªß</title>
{% endblock %}

{% block content %}
    <div class="container my-5">
        <h4 class="text-white mb-4 border-start border-4 border-info ps-3">üî• ∆Øu ƒë√£i hot h√¥m nay</h4>
        <div id="promoCarousel" class="carousel slide rounded-4 overflow-hidden shadow" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://images.unsplash.com/photo-1576525865260-9f0e7f702645?q=80&w=1200&h=300&fit=crop" class="d-block w-100" alt="Promo 1" style="height: 250px; object-fit: cover; filter: brightness(0.6);">
                    <div class="carousel-caption d-none d-md-block text-start">
                        <h3 class="text-warning fw-bold">GI·ªú V√ÄNG GI·∫¢M 50%</h3>
                        <p>√Åp d·ª•ng t·ª´ 10:00 - 17:00 t·∫°i Kingdom Karaoke.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1545128485-c400e7702796?q=80&w=1200&h=300&fit=crop" class="d-block w-100" alt="Promo 2" style="height: 250px; object-fit: cover; filter: brightness(0.6);">
                    <div class="carousel-caption d-none d-md-block text-start">
                        <h3 class="text-info fw-bold">COMBO SINH NH·∫¨T</h3>
                        <p>T·∫∑ng b√°nh kem + G√≥i trang tr√≠ mi·ªÖn ph√≠.</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#promoCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#promoCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
        </div>
    </div>


     <div class="container mb-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="text-white border-start border-4 border-danger ps-3">üé§ Ph√≤ng g·ª£i √Ω cho b·∫°n</h4>
            <a href="/room" class="text-decoration-none text-info">Xem t·∫•t c·∫£ <i class="bi bi-arrow-right"></i></a>
        </div>

        <div class="row g-4">       
            {% for r, r_type, r_price in rooms %}
            <div class="col-md-6 col-lg-3">
                <div class="card room-card h-100">
                    <div class="position-relative">
                        <img src="{{ r.image}}" class="card-img-top" alt="{{ r.name }}">
                        <span class="position-absolute top-0 end-0 badge bg-warning text-dark m-2">{{ r_type }}</span>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title text-white">{{ r.name }}</h5>
                        {% if r.status.name == 'AVAILABLE' and r_price.price_per_hour: %}
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="badge badge-status-ok px-2 py-1"><i class="bi bi-check-circle"></i> C√≤n tr·ªëng</span>
                            </div>

                            <div class="d-flex justify-content-between align-items-end mt-3">
                                <div>
                                    <small class="text-secondary d-block">Gi√° gi·ªù:</small> 
                                    <span class="price-tag">{{ r_price.price_per_hour }} VNƒê<small class="fs-6 text-secondary">/h</small></span>
                                </div>
                            <button class="btn btn-sm btn-outline-info" data-bs-toggle="modal" data-bs-target="#bookingModal" onclick="openBookingModal({{ r.id }}, '{{ r.name }}')">ƒê·∫∑t ngay</button>
                            </div>
                        {% else %}
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="badge badge-status-full px-2 py-1"><i class="bi bi-x-circle"></i> B·∫≠n</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-end mt-3">
                                 <span class="price-tag">Li√™n h·ªá</span>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
             {% endfor %}
        </div>
    </div>
    
    {% block order_room  %}
        {% include 'partials/order_room.html' %}
    {% endblock %}

{% endblock %}